<html>
  <head>
    <meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css">
<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min.css">
<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.7/umd/popper.min.js"></script>
<script src="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/js/bootstrap.min.js"></script>
    <script src="https://www.gstatic.com/firebasejs/7.5.2/firebase-app.js"></script>

    <title>Firebase example</title>
  </head>
  <body style="margin:20px;">
    <h1>Firebase example</h1>
    <div class="col-sm-6">
      <form >
    <div class="form-group">
      <label for="exampleInputEmail1">Email address</label>
      <input type="email" id="user_email" name="user_email" class="form-control" aria-describedby="emailHelp" placeholder="Enter email">

    </div>
    <div class="form-group">
      <label for="exampleInputPassword1">Password</label>
      <input type="password" name="user_password" id="user_password" class="form-control" id="exampleInputPassword1" placeholder="Password">
    </div>

    <button type="submit" class="btn btn-primary" value="Save" onclick="save_user();">Submit</button>
  </form>
</div>
<!-- The core Firebase JS SDK is always required and must be listed first -->
<script src="https://www.gstatic.com/firebasejs/7.5.2/firebase-app.js"></script>

<!-- TODO: Add SDKs for Firebase products that you want to use
     https://firebase.google.com/docs/web/setup#available-libraries -->

<script>
  // Your web app's Firebase configuration
  var firebaseConfig = {
    apiKey: "AIzaSyBTBh4GPj9IDD8TdW3mngEqt7gnJBwCIRY",
    authDomain: "communityhours-479ae.firebaseapp.com",
    databaseURL: "https://communityhours-479ae.firebaseio.com",
    projectId: "communityhours-479ae",
    storageBucket: "communityhours-479ae.appspot.com",
    messagingSenderId: "803388373138",
    appId: "1:803388373138:web:0663900be0ce94d3550e4b"
  };
  // Initialize Firebase
  firebase.initializeApp(firebaseConfig);
</script>
<script>
  // Your web app's Firebase configuration
  var firebaseConfig = {
    apiKey: "AIzaSyAUvN07HcoCifdZMsvA7IQeIFMyAq3xNgM",
    authDomain: "communityhourstracker.firebaseapp.com",
    databaseURL: "https://communityhourstracker.firebaseio.com",
    projectId: "communityhourstracker",
    storageBucket: "communityhourstracker.appspot.com",
    messagingSenderId: "105394178382",
    appId: "1:105394178382:web:50a367365fe7cd2644b61f"
  };
  // Initialize Firebase
  firebase.initializeApp(firebaseConfig);

  //var users = document.getElementById('users');
  var rootRef = firebase.database().ref.child("users");
  var ref = database.ref('users');


  //var uid = firebase.database().ref().child('users').push().key;

  function save_user(){
    var user_email = document.getElementById('user_email').value;
    var user_password = document.getElementById('user_password').value;
     var uid = firebase.database().ref().child('users').push().key;

     var data = {
      uid: uid,
      user: user_email,
      password:user_password
     }

     var updates = {};
     updates['/users/' + uid] = data;
     firebase.database().ref().update(updates);

     alert('The user is created successfully!');
     reload_page();
    }

    function update_user(){
      var user_email = document.getElementById('user_email').value;
      var user_password = document.getElementById('user_password').value;
       var uid = firebase.database().ref().child('users').push().key;

   var data = {
    uid: user_id,
    user: user_name,
    password:user_password
   }

   var updates = {};
   updates['/users/' + user_id] = data;
   firebase.database().ref().update(updates);

   alert('The user is updated successfully!');

   reload_page();
  }

</script>

  </body>
</html>
